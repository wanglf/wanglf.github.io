---
title: Linux常用技巧
tags: linux
layout: post
categories: sysadmin
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline5">查找</a>
<ul>
<li><a href="#orgheadline4">查找并按文件大小排序</a>
<ul>
<li><a href="#orgheadline1">方法一</a></li>
<li><a href="#orgheadline2">方法二</a></li>
<li><a href="#orgheadline3">方法三</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline6">设置时区</a></li>
<li><a href="#orgheadline7">查看RPM包含的文件</a></li>
<li><a href="#orgheadline8">查看某个端口对应程序</a></li>
</ul>
</div>
</div>
<!--abstract-begin-->
<p>
Linux常用技巧备忘录。
</p>
<!--abstract-end-->

<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5">查找</h2>
<div class="outline-text-2" id="text-orgheadline5">
</div><div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">查找并按文件大小排序</h3>
<div class="outline-text-3" id="text-orgheadline4">
</div><div id="outline-container-orgheadline1" class="outline-4">
<h4 id="orgheadline1">方法一</h4>
<div class="outline-text-4" id="text-orgheadline1">
<div class="org-src-container">

<pre class="src src-sh">ls -lS /path/to/folder/
</pre>
</div>

<p>
缺点：只列出当前文件夹
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-4">
<h4 id="orgheadline2">方法二</h4>
<div class="outline-text-4" id="text-orgheadline2">
<div class="org-src-container">

<pre class="src src-sh">ls -lR | grep <span style="color: #800;">'^-'</span> | sort -k 5 -rn
</pre>
</div>

<p>
缺点：不会列出文件的完整路径
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3">方法三</h4>
<div class="outline-text-4" id="text-orgheadline3">
<div class="org-src-container">

<pre class="src src-sh">find -type f  | xargs du -h | sort -rn
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6">设置时区</h2>
<div class="outline-text-2" id="text-orgheadline6">
<div class="org-src-container">

<pre class="src src-sh">mv /etc/localtime /etc/localtime.bak
ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7">查看RPM包含的文件</h2>
<div class="outline-text-2" id="text-orgheadline7">
<div class="org-src-container">

<pre class="src src-sh">repoquery -ql nginx
rpm -qpl filename.rpm
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8">查看某个端口对应程序</h2>
<div class="outline-text-2" id="text-orgheadline8">
<div class="org-src-container">

<pre class="src src-sh">lsof -i :4000
</pre>
</div>
</div>
</div>
